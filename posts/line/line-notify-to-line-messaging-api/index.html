<p>LINE官方宣布，LINE Notify服務即將終止，許多依賴此服務的商家與技術開發者正積極尋找替代方案。而LINE Messaging API無疑是目前最佳的選擇，能夠不僅實現LINE Notify的功能，還提供更多進階功能與行銷潛力。本篇文章將帶您了解如何從LINE Notify轉換至LINE Messaging API，並善用其功能。</p>
<h2 id=為什麼選擇line-messaging-api>為什麼選擇LINE Messaging API？</h2>
<p>LINE Messaging API不僅能滿足LINE Notify的基本通知需求，還能提供更多互動與自動化的功能，例如：</p>
<ul>
<li><strong>🔄雙向溝通</strong>：與用戶進行互動，不僅限於單方面的通知。</li>
<li><strong>🖼️豐富的訊息類型</strong>：支援文字、圖片、影片、模板訊息等多種格式。</li>
<li><strong>📊行銷整合</strong>：結合聊天機器人與會員系統，提升用戶參與度。</li>
</ul>
<h2 id=line-notify與line-messaging-api費用比較>LINE Notify與LINE Messaging API費用比較</h2>
<p>以下為LINE Notify與LINE Messaging API的費用差異整理：</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>LINE Notify</th>
<th>LINE Messaging API</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>使用費用</strong></td>
<td>免費</td>
<td>根據訊息數量計費（需額外申請）</td>
</tr>
<tr>
<td><strong>功能</strong></td>
<td>單向通知</td>
<td>雙向溝通、多媒體訊息支援</td>
</tr>
<tr>
<td><strong>訊息數量限制</strong></td>
<td>無限制，但僅限通知功能</td>
<td>免費額度：每月500則訊息</td>
</tr>
<tr>
<td><strong>技術門檻</strong></td>
<td>低（僅需簡單Token設置）</td>
<td>高（需Webhook與伺服器整合）</td>
</tr>
<tr>
<td><strong>應用範圍</strong></td>
<td>簡單通知</td>
<td>行銷、會員系統、自動化服務</td>
</tr>
</tbody>
</table>
<h2 id=如何切換至line-messaging-api>如何切換至LINE Messaging API</h2>
<p>以下是逐步引導您完成從LINE Notify到LINE Messaging API的轉換：</p>
<h3 id=step-1申請line-messaging-api帳號>STEP 1：申請LINE Messaging API帳號</h3>
<ol>
<li>登入<a href=https://developers.line.biz/zh-hant/>LINE Developers</a>平台。</li>
<li>建立一個新的"Provider"（👥管理單位）。</li>
<li>建立新的"Channel"，選擇"Messaging API"類型，並填寫必要資訊，如應用名稱與類別。</li>
</ol>
<p>📸</p>
<h3 id=step-2設定webhook與驗證>STEP 2：設定Webhook與驗證</h3>
<ol>
<li>在"Channel"設定頁面中，啟用Webhook功能，並填寫您伺服器的Webhook URL。</li>
<li>測試Webhook的連線，確保您的伺服器能夠正確接收LINE傳送的訊息。</li>
</ol>
<p>📸</p>
<h3 id=step-3整合line-messaging-api-sdk>STEP 3：整合LINE Messaging API SDK</h3>
<p>LINE提供多種程式語言的SDK（例如Node.js、Python、Java），讓您輕鬆與Messaging API整合。</p>
<p>範例程式碼（Node.js）：</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=kr>const</span> <span class=nx>line</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@line/bot-sdk&#39;</span><span class=p>);</span>

<span class=kr>const</span> <span class=nx>config</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>channelAccessToken</span><span class=o>:</span> <span class=s1>&#39;YOUR_CHANNEL_ACCESS_TOKEN&#39;</span><span class=p>,</span>
  <span class=nx>channelSecret</span><span class=o>:</span> <span class=s1>&#39;YOUR_CHANNEL_SECRET&#39;</span><span class=p>,</span>
<span class=p>};</span>

<span class=kr>const</span> <span class=nx>client</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>line</span><span class=p>.</span><span class=nx>Client</span><span class=p>(</span><span class=nx>config</span><span class=p>);</span>

<span class=c1>// 傳送訊息範例
</span><span class=c1></span><span class=nx>client</span><span class=p>.</span><span class=nx>pushMessage</span><span class=p>(</span><span class=s1>&#39;USER_ID&#39;</span><span class=p>,</span> <span class=p>{</span>
  <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;text&#39;</span><span class=p>,</span>
  <span class=nx>text</span><span class=o>:</span> <span class=s1>&#39;這是來自LINE Messaging API的通知訊息！&#39;</span><span class=p>,</span>
<span class=p>}).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;✅ 訊息傳送成功&#39;</span><span class=p>);</span>
<span class=p>}).</span><span class=k>catch</span><span class=p>((</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
<span class=p>});</span>
</code></pre></div><h3 id=step-4設定群發訊息與自動回應>STEP 4：設定群發訊息與自動回應</h3>
<p>您可以透過LINE Messaging API設定群發訊息，將重要通知傳送給所有好友或特定目標族群。此外，透過Webhook還可以實現自動回應功能。</p>
<p>範例：設定自動回應訊息（Node.js）：</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
<span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
<span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/webhook&#39;</span><span class=p>,</span> <span class=nx>line</span><span class=p>.</span><span class=nx>middleware</span><span class=p>(</span><span class=nx>config</span><span class=p>),</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nb>Promise</span>
    <span class=p>.</span><span class=nx>all</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>events</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>handleEvent</span><span class=p>))</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>result</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>result</span><span class=p>));</span>
<span class=p>});</span>

<span class=kd>function</span> <span class=nx>handleEvent</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span> <span class=o>===</span> <span class=s1>&#39;message&#39;</span> <span class=o>&amp;&amp;</span> <span class=nx>event</span><span class=p>.</span><span class=nx>message</span><span class=p>.</span><span class=nx>type</span> <span class=o>===</span> <span class=s1>&#39;text&#39;</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>client</span><span class=p>.</span><span class=nx>replyMessage</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>replyToken</span><span class=p>,</span> <span class=p>{</span>
      <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;text&#39;</span><span class=p>,</span>
      <span class=nx>text</span><span class=o>:</span> <span class=sb>`📝 您剛剛說了：</span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>message</span><span class=p>.</span><span class=nx>text</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span>
    <span class=p>});</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</code></pre></div><h3 id=step-5測試與部署>STEP 5：測試與部署</h3>
<p>在完成程式開發後，務必進行測試，確保所有功能都能正確運行。測試完成後，將應用程式部署至雲端伺服器，如AWS、GCP或Heroku，以提供穩定的服務。</p>
<h2 id=line-messaging-api的進階應用>LINE Messaging API的進階應用</h2>
<ul>
<li><strong>🔗會員系統整合</strong>：將LINE用戶與您的會員資料庫進行綁定，提供個性化的通知與優惠。</li>
<li><strong>🎯行銷活動</strong>：透過推播訊息與互動機制，提高用戶參與行銷活動的意願。</li>
<li><strong>🤖自動化服務</strong>：例如訂單查詢、自動客服，提升用戶體驗並減少人力成本。</li>
</ul>
<h2 id=總結>總結</h2>
<p>雖然LINE Notify服務即將終止，但LINE Messaging API提供了更強大的功能與彈性，能夠滿足商家與技術開發者的需求。透過本文的逐步指導，您可以快速完成從LINE Notify到LINE Messaging API的轉換，並善用其功能，提升行銷與技術應用的效益。如果您需要進一步的協助，歡迎隨時聯繫我們！</p>