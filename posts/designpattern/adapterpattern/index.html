<p>Adapter Pattern（轉接器模式）是一種結構性設計模式，主要是要將一個類的介面轉換成客戶端所期望的另一個介面。這種轉換可能需要在不改變原始類或客戶端的情況下進行，這就是這個模式的用途。</p>
<blockquote>
<p>可以用一個簡單的生活案例來說明，在出國旅遊的時候，不同國家有時會有不同的電壓，這個時候通常會準備多國的轉接器來做轉換的動作，這個就是Adapter Pattern很生活化範例。</p>
</blockquote>
<h2 id=簡介>簡介</h2>
<ol>
<li><strong>模式名稱</strong>：</li>
</ol>
<blockquote>
<p>Adapter Pattern</p>
</blockquote>
<ol start=2>
<li><strong>問題</strong>：</li>
</ol>
<blockquote>
<p>當客戶端需要使用一個已存在的類，但是該類的介面與客戶端所需要的介面不匹配時，就會出現問題。這可能是由於類的介面被設計為特定的用途，而客戶端需要的功能需要使用不同的介面來實現。</p>
</blockquote>
<ol start=3>
<li><strong>解決方案</strong>：</li>
</ol>
<blockquote>
<p>創建一個名為 Adapter 的中間層，該層將客戶端所需的介面轉換為現有類的介面。這個 Adapter 類是一個介面，客戶端可以通過它來訪問現有的類，而不必了解實際的實現細節。</p>
</blockquote>
<ol start=4>
<li><strong>結果</strong>：</li>
</ol>
<blockquote>
<p>實現了類的介面轉換，使客戶端可以使用現有的類。同時，這種轉換也不會影響現有類的實現細節，因此不會破壞現有的代碼結構。</p>
</blockquote>
<h2 id=以下是在-c-中實現-adapter-pattern-的重點>以下是在 C# 中實現 Adapter Pattern 的重點：</h2>
<ol>
<li>Target：這是客戶端期望使用的介面，與現有類的介面不同。</li>
<li>Adaptee：這是已經存在的類的介面，需要被轉接。</li>
<li>Adapter：這個類實現了目標介面，並將其方法轉換為現有類的介面調用。</li>
<li>Client：客戶端只需要通過 Adapter 類的目標介面來訪問現有的類。</li>
</ol>
<h2 id=範例>範例</h2>
<p>讓 Adapter 類持有一個現有類的實例，同時實現目標介面。這樣 Adapter 類就可以在客戶端代碼中使用目標介面，同時通過持有的現有類實例來實現對應的功能。</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=c1>// 目標介面
</span><span class=c1></span><span class=k>interface</span> <span class=n>ITarget</span>
<span class=p>{</span>
    <span class=k>void</span> <span class=n>Request</span><span class=p>();</span>
<span class=p>}</span>

<span class=c1>// 現有類
</span><span class=c1></span><span class=k>class</span> <span class=nc>Adaptee</span>
<span class=p>{</span>
    <span class=k>public</span> <span class=k>void</span> <span class=n>SpecificRequest</span><span class=p>()</span>
    <span class=p>{</span>
        <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Specific request&#34;</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=c1>// Adapter 類
</span><span class=c1></span><span class=k>class</span> <span class=nc>Adapter</span> <span class=p>:</span> <span class=n>ITarget</span>
<span class=p>{</span>
    <span class=k>private</span> <span class=n>Adaptee</span> <span class=n>adaptee</span><span class=p>;</span>

    <span class=k>public</span> <span class=n>Adapter</span><span class=p>(</span><span class=n>Adaptee</span> <span class=n>adaptee</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=n>adaptee</span> <span class=p>=</span> <span class=n>adaptee</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>public</span> <span class=k>void</span> <span class=n>Request</span><span class=p>()</span>
    <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=n>adaptee</span><span class=p>.</span><span class=n>SpecificRequest</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=c1>// 客戶端
</span><span class=c1></span><span class=k>class</span> <span class=nc>Client</span>
<span class=p>{</span>
    <span class=k>static</span> <span class=k>void</span> <span class=n>Main</span><span class=p>(</span><span class=kt>string</span><span class=p>[]</span> <span class=n>args</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=n>Adaptee</span> <span class=n>adaptee</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Adaptee</span><span class=p>();</span>
        <span class=n>ITarget</span> <span class=n>target</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Adapter</span><span class=p>(</span><span class=n>adaptee</span><span class=p>);</span>
        <span class=n>target</span><span class=p>.</span><span class=n>Request</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div>
<h2>延伸閱讀</h2>
<ul>
<li><a href=/blog/posts/designpattern/compositepattern/>[Design Pattern] 掌握設計模式：Composite Pattern原理與應用</a></li>
<li><a href=/blog/posts/designpattern/bridgepattern/>[Design Pattern] 掌握設計模式：Bridge Pattern原理與應用</a></li>
<li><a href=/blog/posts/designpattern/prototypepattern/>[Design Pattern] 掌握設計模式：Prototype Pattern原理與應用</a></li>
<li><a href=/blog/posts/designpattern/builderpattern/>[Design Pattern] 掌握設計模式：Builder Pattern原理與應用</a></li>
<li><a href=/blog/posts/designpattern/factorycomparison/>[Design Pattern] 透視工廠模式：簡單工廠、工廠方法、抽象工廠的差異分析</a></li>
</ul>