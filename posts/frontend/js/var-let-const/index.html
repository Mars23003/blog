<p>在ES6以前並無<font color=#990036><strong><code>let、const、block scope(區塊作用域,可以當成{})的概念</code></strong></font>，當時都是使用var來宣告變數，
雖然這樣宣告起來很方便，但是往往會有忽略宣告變數的層級問題，導致全域環境受到汙染的狀況，
以下將會舉例來作簡單的解釋。</p>
<h2 id=var>var</h2>
<blockquote>
<p>宣告在function內的var變數只在function(function scope)內有效。</p>
<p>宣告在function外的話其作用範圍將會是全域作用域(global scope)。</p>
</blockquote>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=s2>&#34;aaa&#34;</span><span class=p>;</span><span class=c1>//定義一個全域i變數的字串&#34;aaa&#34;
</span><span class=c1></span>
<span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=nx>i</span><span class=o>&lt;</span><span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>){</span><span class=c1>//透過一些區塊語句處理後將會影響到原有的全域變數
</span><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span><span class=s2>&#34;a&#34;</span><span class=p>);</span>
<span class=p>}</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span><span class=c1>// 3
</span></code></pre></div><p>可以輸入<font color=#990036><strong><code>window</code></strong></font>來檢驗上述所說的，
在function scope以外的地方宣告var變數，
其作用於全域作用域(global scope)，如同上面的例子
當有<strong>重複命名或沒規劃好變數作用範圍之類的情況時將會汙染全域環境</strong>。</p>
<p><img loading=lazy src=../image/var_scope.png alt>
</p>
<h2 id=let>let</h2>
<blockquote>
<p>用let來宣告變數其作用的區域為區塊作用域(block scope)，可以當作大括號{}內的範圍為一個區塊。</p>
<p>在區塊作用域(大括號{})以外的地方將存取不了該變數，將出現is not defined的錯誤。</p>
</blockquote>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=nx>i</span><span class=o>&lt;</span><span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>){</span><span class=c1>//區塊內的let i
</span><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
<span class=p>}</span>

<span class=c1>//區塊外存取let i
</span><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span><span class=c1>// error: i is not defined
</span></code></pre></div><ol>
<li><font color=#990036><strong><code>let</code></strong></font>不會產生全域變數且在同一個區塊(block)</li>
<li><font color=#990036><strong><code>let</code></strong></font>不能重複宣告(包含var同名變數宣告也不行)，否則會出錯 <strong>Identifier &lsquo;i&rsquo; has already been declared</strong></li>
</ol>
<h2 id=const>const</h2>
<p>具備<font color=#990036><strong><code>let</code></strong></font>所有的特性。
但是除了與<strong>let</strong>相同以外，<font color=#990036><strong><code>const</code></strong></font>所有的特性又有額外的規範。</p>
<ol>
<li>在<strong>宣告時就要為其賦值</strong>。</li>
<li><strong>有常數的特性(即不可修改)</strong>。</li>
</ol>
<h2>延伸閱讀</h2>
<ul>
<li><a href=/blog/posts/frontend/js/fuse-js-javascript-fuzzy-search-engine/>深入了解 Fuse.js：JavaScript 模糊搜尋</a></li>
<li><a href=/blog/posts/frontend/js/js-blob-download/>[JavaScript] 如何使用JavaScript與blob下載檔案？</a></li>
<li><a href=/blog/posts/frontend/js/bind-apply-call/>[JavaScript] 讓你馬上了解bind、apply、call的用法</a></li>
<li><a href=/blog/posts/frontend/js/this/>[JavaScript] this是什麼?</a></li>
<li><a href=/blog/posts/frontend/js/iife/>[JavaScript] 立即執行函式(IIFE)是什麼?</a></li>
</ul>